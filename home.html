<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Zach Lualhati</title>
        <link href="home_files/css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Responsive navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="./">Coding is fun</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/">Back to cool cover page</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page header with logo and tagline-->
        <header class="imageback">
            <div class="container">
                <div class="text-center my-5">
                    <h1 class="fw-bolder">Empty!</h1>
                    <p class="lead mb-0">You know, I tried making a somewhat proffesional website, In reality, I only needed to use it to host my resume and stuff</p>
                </div>
            </div>
        </header>
        <footer class="py-5 bg-dark">
            <div class="container"><p class="m-0 text-center text-white">Copyright &copy; Zach Lualhati 2022</p></div>
        </footer>
        <p class="lead" style="text-align: center; padding-top: 1rem;">Play a game while your at it...</p>

        <body style="position: auto;">
            <canvas width="400" height="400" id="game"></canvas>
            <script>
            var canvas = document.getElementById('game');
            var context = canvas.getContext('2d');
            
            var grid = 16;
            var count = 0;
              
            var snake = {
              x: 160,
              y: 160,
              
              // snake velocity. moves one grid length every frame in either the x or y direction
              dx: grid,
              dy: 0,
              
              // keep track of all grids the snake body occupies
              cells: [],
              
              // length of the snake. grows when eating an apple
              maxCells: 4
            };
            var apple = {
              x: 320,
              y: 320
            };
            
            // get random whole numbers in a specific range
            // @see https://stackoverflow.com/a/1527820/2124254
            function getRandomInt(min, max) {
              return Math.floor(Math.random() * (max - min)) + min;
            }
            
            // game loop
            function loop() {
              requestAnimationFrame(loop);
            
              // slow game loop to 15 fps instead of 60 (60/15 = 4)
              if (++count < 4) {
                return;
              }
            
              count = 0;
              context.clearRect(0,0,canvas.width,canvas.height);
            
              // move snake by it's velocity
              snake.x += snake.dx;
              snake.y += snake.dy;
            
              // wrap snake position horizontally on edge of screen
              if (snake.x < 0) {
                snake.x = canvas.width - grid;
              }
              else if (snake.x >= canvas.width) {
                snake.x = 0;
              }
              
              // wrap snake position vertically on edge of screen
              if (snake.y < 0) {
                snake.y = canvas.height - grid;
              }
              else if (snake.y >= canvas.height) {
                snake.y = 0;
              }
            
              // keep track of where snake has been. front of the array is always the head
              snake.cells.unshift({x: snake.x, y: snake.y});
            
              // remove cells as we move away from them
              if (snake.cells.length > snake.maxCells) {
                snake.cells.pop();
              }
            
              // draw apple
              context.fillStyle = 'red';
              context.fillRect(apple.x, apple.y, grid-1, grid-1);
            
              // draw snake one cell at a time
              context.fillStyle = 'green';
              snake.cells.forEach(function(cell, index) {
                
                // drawing 1 px smaller than the grid creates a grid effect in the snake body so you can see how long it is
                context.fillRect(cell.x, cell.y, grid-1, grid-1);  
            
                // snake ate apple
                if (cell.x === apple.x && cell.y === apple.y) {
                  snake.maxCells++;
            
                  // canvas is 400x400 which is 25x25 grids 
                  apple.x = getRandomInt(0, 25) * grid;
                  apple.y = getRandomInt(0, 25) * grid;
                }
            
                // check collision with all cells after this one (modified bubble sort)
                for (var i = index + 1; i < snake.cells.length; i++) {
                  
                  // snake occupies same space as a body part. reset game
                  if (cell.x === snake.cells[i].x && cell.y === snake.cells[i].y) {
                    snake.x = 160;
                    snake.y = 160;
                    snake.cells = [];
                    snake.maxCells = 4;
                    snake.dx = grid;
                    snake.dy = 0;
            
                    apple.x = getRandomInt(0, 25) * grid;
                    apple.y = getRandomInt(0, 25) * grid;
                  }
                }
              });
            }
            
            // listen to keyboard events to move the snake
            document.addEventListener('keydown', function(e) {
              // prevent snake from backtracking on itself by checking that it's 
              // not already moving on the same axis (pressing left while moving
              // left won't do anything, and pressing right while moving left
              // shouldn't let you collide with your own body)
              
              // left arrow key
              if (e.which === 37 && snake.dx === 0) {
                snake.dx = -grid;
                snake.dy = 0;
              }
              // up arrow key
              else if (e.which === 38 && snake.dy === 0) {
                snake.dy = -grid;
                snake.dx = 0;
              }
              // right arrow key
              else if (e.which === 39 && snake.dx === 0) {
                snake.dx = grid;
                snake.dy = 0;
              }
              // down arrow key
              else if (e.which === 40 && snake.dy === 0) {
                snake.dy = grid;
                snake.dx = 0;
              }
            });
            
            // start the game
            requestAnimationFrame(loop);
            </script>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <link href="./assets/transition.css" rel="stylesheet">
        <script src="./assets/main.js"></script>
        <svg id="fader"></svg>
        <script>
        fadeInPage();
        </script>
    </body>
</html>
